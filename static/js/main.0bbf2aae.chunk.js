(this["webpackJsonpabc-analyzer"]=this["webpackJsonpabc-analyzer"]||[]).push([[0],{209:function(e,t){},211:function(e,t){},249:function(e,t){},308:function(e,t,a){},309:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),u=a(39),c=a.n(u),i=a(19),r=a(96),o=a(121),s=a(116),v=a.n(s),d=a(162),m=a.n(d),f=a(117),b=a.n(f),j=a(61),p=a(163),E=a(97),O=a(51),T=a.n(O),h=a(164);function S(e){var t={};for(var a in e)if(e.hasOwnProperty(a))if("object"==typeof e[a]&&null!==e[a]){var n=S(e[a]);for(var l in n)n.hasOwnProperty(l)&&(t[a+"_"+l]=n[l])}else t[a]=String(e[a]);return t}var y=function(e){return e.map((function(e,t){var a,n=e[0],l=e[1],u=e[5],c=null===(a=e[8])||void 0===a?void 0:a.replaceAll('""','"').replaceAll(': ", ',': "", ');try{return Object(E.a)({timestamp:u,_id:n,datumType:l},S(JSON.parse(c)))}catch(i){return{timestamp:u,_id:n,datumType:l}}}))};var A=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],u=a[1],c=Object(n.useMemo)((function(){return l.reduce((function(e,t){var a=Object.keys(t);return T.a.union(e,a)}),[])}),[l]);return Object(n.useEffect)((function(){function t(){return(t=Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(h.a)("".concat("https://wooogler.github.io/abc-analyzer","/logs/").concat(e),{worker:!0,complete:function(e){var t=["timestamp","datumType","type","name","packageName","currentKey","timeTaken","isPosted","messageBox","presentation","_id"],a=e.data,n=y(a).map((function(e){return T.a.pick(e,t)})),l=t.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(j.a)({},t,""))}),{}),c=n.map((function(e){return Object.assign({},l,e)}));u(c)},download:!0});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),{logData:l,logColumns:c}},_=a(100),x=a(312),g=a(315),k=a(72),I=a(311),P=a(5),C=["APP_USAGE_EVENT","KEY_LOG","NOTIFICATION","MESSAGE","CALL_LOG","MEDIA"],N=[{title:"APP_USAGE_EVENT",key:"APP_USAGE_EVENT",selectable:!1,children:[{title:"name",key:"app-name"},{title:"packageName",key:"app-packageName"},{title:"type",key:"app-type"}]},{title:"KEY_LOG",key:"KEY_LOG",selectable:!1,children:[{title:"name",key:"key-name"},{title:"packageName",key:"key-packageName"},{title:"currentKey",key:"key-currentKey"},{title:"timeTaken",key:"key-timeTaken"}]},{title:"NOTIFICATION",key:"NOTIFICATION",selectable:!1,children:[{title:"name",key:"noti-name"},{title:"packageName",key:"noti-packageName"},{title:"isPosted",key:"noti-isPosted"}]},{title:"MESSAGE",key:"MESSAGE",selectable:!1,children:[{title:"messageBox",key:"msg-messageBox"}]},{title:"CALL_LOG",key:"CALL_LOG",selectable:!1,children:[{title:"type",key:"call-type"},{title:"presentation",key:"call-presentation"}]},{title:"MEDIA",key:"MEDIA",selectable:!1}];var V=function(e){var t=e.originalLogColumns,a=e.setShowColumnIndex,l=e.setShowRowIndex,u=e.setCol,c=e.setDatumTypes,i=e.logData,r=Object(n.useCallback)((function(e,n){var u=[].concat(Object(k.a)(e),Object(k.a)(n.halfCheckedKeys)),r=["timestamp","_id","datumType"].concat(Object(k.a)(T.a.uniq(u.filter((function(e){return e.includes("-")})).map((function(e){return e.split("-")[1]})))));l(i.map((function(e){return u.includes(e.datumType)}))),a(t.map((function(e){return r.includes(e)}))),c(u.filter((function(e){return C.includes(e)})))}),[i,t,c,a,l]),o=Object(n.useCallback)((function(e){0===e.length?u(""):u(e[0].split("-")[1])}),[u]);return Object(P.jsx)("div",{className:"h-52 overflow-auto",children:Object(P.jsx)(I.a,{checkable:!0,treeData:N,onCheck:r,onSelect:o,defaultCheckedKeys:C})})},w=a(188),U=a(186),D=[[{value:"Task (Trial 1)"},{value:"DatumType"},{value:"Event"},{value:"timestamp"}],[{value:"\uccab\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\ub450\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc2dc\uc791"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc885\ub8cc"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_STOPPED"},{value:null}],[{value:"Task (Trial 2)"},{value:"DatumType"},{value:"Event"},{value:"timestamp"}],[{value:"\uccab\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\ub450\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc2dc\uc791"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc885\ub8cc"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_STOPPED"},{value:null}],[{value:"Task (Trial 3)"},{value:"DatumType"},{value:"Event"},{value:"timestamp"}],[{value:"\uccab\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\ub450\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc2dc\uc791"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc885\ub8cc"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_STOPPED"},{value:null}],[{value:"Task (Trial 4)"},{value:"DatumType"},{value:"Event"},{value:"timestamp"}],[{value:"\uccab\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\ub450\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc2dc\uc791"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc885\ub8cc"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_STOPPED"},{value:null}],[{value:"Task (Trial 5)"},{value:"DatumType"},{value:"Event"},{value:"timestamp"}],[{value:"\uccab\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\ub450\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc2dc\uc791"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc885\ub8cc"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_STOPPED"},{value:null}],[{value:"Task (Trial 6)"},{value:"DatumType"},{value:"Event"},{value:"timestamp"}],[{value:"\uccab\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\ub450\ubc88\uc9f8 \ubb38\uc790 \uacf5\uc720"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc2dc\uc791"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_RESUMED"},{value:null}],[{value:"\uc740\ud589 \uc571 \uc0ac\uc6a9 \uc885\ub8cc"},{value:"APP_USAGE_EVENT"},{value:"ACTIVITY_STOPPED"},{value:null}]];var G,R,M,Y=function(e){e.datumType,e.timestamp;var t=Object(n.useState)(D),a=Object(i.a)(t,2),l=a[0],u=a[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)("div",{className:"text-lg font-bold",children:"Task Sheet"}),Object(P.jsx)(w.a,{className:"ml-auto",onClick:function(){u(D)},size:"small",children:"Reset sheet"})]}),Object(P.jsx)("div",{className:"h-60 overflow-auto",children:Object(P.jsx)(U.a,{data:l,hideRowIndicators:!0,hideColumnIndicators:!0})})]})};v.a.extend(m.a);var L=_.a.div(G||(G=Object(r.a)(["\n  width: 100%;\n  height: 70%;\n  margin: 1rem;\n\n  .cell {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]))),B=_.a.div(R||(R=Object(r.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  border-right: 1px solid rgba(0, 0, 0, 0.06);\n  padding-left: 0.25rem;\n  line-height: 30px;\n  ","\n  ","\n"])),(function(e){return e.passed&&"\n    background-color: #bdbdbd;\n  "}),(function(e){return e.selected&&"\n    background-color: #000000;\n    color: white;\n  "})),F=_.a.div(M||(M=Object(r.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  border-right: 1px solid rgba(0, 0, 0, 0.06);\n  padding-left: 0.25rem;\n  background-color: #fafafa;\n  line-height: 30px;\n"]))),K=function(e){var t=e.fileName,a=e.sec,l=e.sync,u=e.start,c=(e.setSync,e.setSelectedTimestamp),r=e.selectedTimestamp,s=e.playerRef,d=e.linked,m=Object(n.useState)(""),f=Object(i.a)(m,2),b=f[0],j=f[1],p=A(t),E=p.logData,O=p.logColumns,h=Object(n.useState)(),S=Object(i.a)(h,2),y=S[0],_=S[1],k=Object(n.useState)([]),I=Object(i.a)(k,2),N=I[0],w=I[1],U=Object(n.useState)([]),D=Object(i.a)(U,2),G=D[0],R=D[1];Object(n.useEffect)((function(){var e=new Array(O.length).fill(!0);w(e),R(E.map((function(e){return C.includes(e.datumType)})))}),[E,O.length]),Object(n.useEffect)((function(){var e=O.filter((function(e,t){return N[t]}));_(E.map((function(t){return T.a.pick(t,e)})).filter((function(e,t){return G[t]})).sort((function(e,t){return parseInt(e.timestamp)-parseInt(t.timestamp)})))}),[E,O,N,G]);var M=Object(n.useState)(""),K=Object(i.a)(M,2),z=K[0],J=K[1],q=Object(n.useCallback)((function(e){J(null===e||void 0===e?void 0:e._id);var t=parseInt(null===e||void 0===e?void 0:e.timestamp);c(parseInt(null===e||void 0===e?void 0:e.timestamp)),j(null===e||void 0===e?void 0:e.datumType),s&&s.current.seekTo((u+t-l)/1e3,"seconds")}),[s,c,u,l]),H=Object(n.useState)(""),W=Object(i.a)(H,2),Q=W[0],X=W[1],Z=Object(n.useState)(C),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(i.a)(ae,2),le=ne[0],ue=ne[1];Object(n.useEffect)((function(){var e,t,a=E.filter((function(e){return ee.includes(e.datumType)})),n=O.map((function(e){return{col:e,count:Object.entries(T.a.countBy(null===a||void 0===a?void 0:a.map((function(t){return t[e]}))))}})),l=null===(e=O.map((function(e){return{col:e,count:Object.entries(T.a.countBy(null===y||void 0===y?void 0:y.map((function(t){return t[e]}))))}})).find((function(e){return e.col===Q})))||void 0===e?void 0:e.count,u=null===(t=n.find((function(e){return e.col===Q})))||void 0===t?void 0:t.count;ue(null===u||void 0===u?void 0:u.map((function(e){if(null===l||void 0===l?void 0:l.map((function(e){return e[0]})).includes(e[0])){var t=l.find((function(t){return t[0]===e[0]}));if(void 0===t)throw new Error("no lookup");var a=t[1];return a===e[1]?{value:e[0],count:a,checked:!0,total:e[1]}:{value:e[0],count:a,checked:!1,total:e[1]}}return{value:e[0],count:0,checked:!1,total:e[1]}})))}),[Q,ee,E,y,O]);var ce=function(e){var t=e.columnIndex,n=e.key,c=e.rowIndex,i=e.style;if(y){var r=O.filter((function(e,t){return N[t]}))[t],o=y[c];if(0===c)return Object(P.jsx)(F,{style:i,className:"cell",children:0===t?"Datetime":r},n);var s=0!==t?o&&o[r]&&o[r].toString():o&&v()(parseInt(o[r])).format("MM/DD hh:mm:ss.SSS");return Object(P.jsx)(B,{style:i,className:"cell",passed:!!d&&a+l-u>=parseInt(null===o||void 0===o?void 0:o.timestamp),selected:(null===o||void 0===o?void 0:o._id)===z,onClick:function(){return q(o)},children:s},n)}},ie=Object(n.useState)(0),re=Object(i.a)(ie,2),oe=re[0],se=re[1];Object(n.useEffect)((function(){console.log(oe)}),[oe]),Object(n.useEffect)((function(){var e=y?y.findIndex((function(e){return a+l-u<=parseInt(null===e||void 0===e?void 0:e.timestamp)})):0,t=null===y||void 0===y?void 0:y.find((function(e){return a+l-u<=parseInt(null===e||void 0===e?void 0:e.timestamp)}));se(e),t&&t._id&&J(t._id)}),[y,s,a,u,l]);var ve=Object(n.useCallback)((function(e,t){R(t?function(t){return t.map((function(t,a){return!0===t&&ee.includes(E[a].datumType)?E[a][Q]!==e:t}))}:function(t){return t.map((function(t,a){return!1===t&&ee.includes(E[a].datumType)?E[a][Q]===e:t}))})}),[Q,ee,E]),de=Object(n.useCallback)((function(e){!e.target.checked||e.target.indeterminate?R((function(e){return e.map((function(){return!1}))})):R((function(e){return e.map((function(e,t){return!!ee.includes(E[t].datumType)||e}))}))}),[ee,E]),me=Object(n.useState)([]),fe=Object(i.a)(me,2),be=fe[0],je=fe[1];Object(n.useEffect)((function(){je(le)}),[le,O]);var pe=Object(n.useCallback)((function(e){je(null===le||void 0===le?void 0:le.filter((function(t){return t.value.toLowerCase().includes(e.target.value.toLowerCase())})))}),[le]),Ee=Object(n.useCallback)((function(e){var t,a=O.map((function(e,t){return{name:e,index:t}})).filter((function(e){return N[e.index]}));return null===a||void 0===a||null===(t=a.find((function(t){return t.name===e})))||void 0===t?void 0:t.index}),[O,N]),Oe=Object(n.useCallback)((function(e){var t=e.index;return 0===t||t===Ee("datumType")?150:t===Ee("type")?250:t===Ee("name")?100:t===Ee("packageName")?300:t===Ee("_id")?0:70}),[Ee]);return Object(P.jsxs)("div",{className:"w-full h-screen",children:[Object(P.jsx)(L,{children:Object(P.jsx)(o.a,{children:function(e){var t=e.height,a=e.width;return Object(P.jsx)(o.b,{height:t,rowHeight:30,width:a,fixedColumnCount:1,fixedRowCount:1,cellRenderer:ce,styleTopLeftGrid:{borderRight:"1px solid rgba(0, 0, 0, 0.5)"},styleBottomLeftGrid:{borderRight:"1px solid rgba(0, 0, 0, 0.5)"},rowCount:G.filter(Boolean).length,columnCount:N.filter(Boolean).length,columnWidth:Oe,scrollToRow:oe,scrollToAlignment:"center"})}})}),Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(P.jsx)("div",{className:"text-lg font-bold",children:"Show Columns"}),Object(P.jsx)(V,{originalLogColumns:O,setShowColumnIndex:w,setCol:X,logData:E,setDatumTypes:te,setShowRowIndex:R})]}),(""!==Q||0===(null===be||void 0===be?void 0:be.length))&&Object(P.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(P.jsxs)("div",{className:"text-lg font-bold",children:["Column Filter - ",Q]}),Object(P.jsx)(x.a,{size:"small",onChange:pe}),Object(P.jsx)("div",{className:"p-1",children:Object(P.jsx)(g.a,{checked:null===le||void 0===le?void 0:le.map((function(e){return e.checked})).every((function(e){return!0===e})),indeterminate:!(null===le||void 0===le?void 0:le.map((function(e){return e.checked})).every((function(e){return!0===e})))&&(null===le||void 0===le?void 0:le.map((function(e){return e.checked})).some((function(e){return!0===e}))),onChange:de,children:"Select All"})}),Object(P.jsx)("div",{className:"h-40 overflow-auto",children:null===be||void 0===be?void 0:be.sort((function(e,t){return t.total-e.total})).map((function(e,t){return Object(P.jsx)("div",{className:"p-1",children:Object(P.jsxs)(g.a,{checked:e.checked,indeterminate:0!==e.count&&!e.checked,onClick:function(){return ve(e.value,e.checked)},children:[e.value," (",e.count,"/",e.total,")"]})},t)}))})]}),Object(P.jsx)("div",{className:"ml-auto",children:Object(P.jsx)(Y,{timestamp:r.toString(),datumType:b})})]})]})},z=(a(289),a(185)),J=a.n(z);var q=function(e){var t=e.url,a=e.setSec,n=e.setPlayedSec,l=e.playerRef;return Object(P.jsx)("div",{className:"flex flex-col h-full w-full pl-4 pt-2 pb-14 justify-center items-center",children:Object(P.jsx)(J.a,{url:t,controls:!0,width:"100%",height:"100%",onProgress:function(e){a(Math.floor(1e3*e.playedSeconds)),n(Math.floor(1e3*e.playedSeconds))},progressInterval:10,ref:l})})},H=a(316),W=a(314);var Q=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],l=t[1],u=Object(n.useState)(""),c=Object(i.a)(u,2),r=c[0],o=c[1],s=Object(n.useState)(1629722777027),v=Object(i.a)(s,2),d=v[0],m=v[1],f=Object(n.useState)(0),b=Object(i.a)(f,2),j=b[0],p=b[1],E=Object(n.useState)(29257),O=Object(i.a)(E,2),T=O[0],h=O[1],S=Object(n.useState)(0),y=Object(i.a)(S,2),A=y[0],_=y[1],x=Object(n.useState)(0),g=Object(i.a)(x,2),k=g[0],I=g[1],C=Object(n.useRef)(),N=Object(n.useCallback)((function(e){o(e.target.value),a&&("7"===e.target.value?(h(29257),m(1629722777027)):"8"===e.target.value?(h(27275),m(1629723368224)):"9"===e.target.value?(h(28561),m(1629724008156)):"10"===e.target.value?(h(28977),m(1629729295883)):"11"===e.target.value?(h(26999),m(1629729867290)):"12"===e.target.value&&(h(37468),m(1629730415581)))}),[a]);return Object(P.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[Object(P.jsx)("div",{className:"w-3/4 h-screen",children:Object(P.jsx)(K,{fileName:"raw.csv",sec:a?j:0,sync:d,setSelectedTimestamp:I,playerRef:a&&C,setSync:m,selectedTimestamp:k,start:T,linked:a})}),Object(P.jsxs)("div",{className:"flex flex-col w-1/4 h-screen items-center",children:[Object(P.jsxs)("div",{className:"flex justify-center h-8 items-center pt-2",children:[Object(P.jsx)("div",{className:"mr-2",children:"Link:"}),Object(P.jsx)(H.a,{checked:a,onChange:function(e){return l(e)}}),Object(P.jsx)("div",{className:"mx-2"}),Object(P.jsxs)(W.a.Group,{defaultValue:"7",size:"small",buttonStyle:"solid",onChange:N,value:r,children:[Object(P.jsx)(W.a.Button,{value:"7",children:"7"}),Object(P.jsx)(W.a.Button,{value:"8",children:"8"}),Object(P.jsx)(W.a.Button,{value:"9",children:"9"}),Object(P.jsx)(W.a.Button,{value:"10",children:"10"}),Object(P.jsx)(W.a.Button,{value:"11",children:"11"}),Object(P.jsx)(W.a.Button,{value:"12",children:"12"})]})]}),Object(P.jsx)(q,{url:"".concat("","videos/").concat(r,".webm"),setSec:p,setSync:m,setStart:h,setPlayedSec:_,selectedTimestamp:k,playerRef:C,playedSec:A})]})]})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,317)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,u=t.getLCP,c=t.getTTFB;a(e),n(e),l(e),u(e),c(e)}))};a(308);c.a.render(Object(P.jsx)(l.a.StrictMode,{children:Object(P.jsx)(Q,{})}),document.getElementById("root")),X()}},[[309,1,2]]]);
//# sourceMappingURL=main.0bbf2aae.chunk.js.map