(this["webpackJsonpabc-analyzer"]=this["webpackJsonpabc-analyzer"]||[]).push([[0],{243:function(e,t){},245:function(e,t){},280:function(e,t){},320:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(28),r=a.n(c),i=a(26),u=a(119),s=a(148),o=a(142),d=a.n(o),b=a(197),m=a.n(b),v=a(143),O=a.n(v),f=a(71),j=a(198),p=a(120),y=a(48),h=a.n(y),g=a(199);function x(e){var t={};for(var a in e)if(e.hasOwnProperty(a))if("object"==typeof e[a]&&null!==e[a]){var n=x(e[a]);for(var l in n)n.hasOwnProperty(l)&&(t[a+"_"+l]=n[l])}else t[a]=String(e[a]);return t}var k=function(e){return e.map((function(e,t){var a,n=e[0],l=e[1],c=e[5],r=null===(a=e[8])||void 0===a?void 0:a.replaceAll('""','"').replaceAll(': ", ',': "", ');try{return Object(p.a)({timestamp:c,_id:n,datumType:l},x(JSON.parse(r)))}catch(i){return{timestamp:c,_id:n,datumType:l}}}))};var N=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],c=a[1],r=Object(n.useMemo)((function(){return l.reduce((function(e,t){var a=Object.keys(t);return h.a.union(e,a)}),[])}),[l]);return Object(n.useEffect)((function(){function t(){return(t=Object(j.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(g.a)("".concat("https://wooogler.github.io/abc-analyzer","/logs/").concat(e),{worker:!0,complete:function(e){var t=["timestamp","datumType","type","name","packageName","currentKey","timeTaken","isPosted","messageBox","presentation","_id"],a=e.data,n=k(a).map((function(e){return h.a.pick(e,t)})),l=t.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},t,""))}),{}),r=n.map((function(e){return Object.assign({},l,e)}));c(r)},download:!0});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),{logData:l,logColumns:r}},T=a(123),S=a(409),C=a(412),E=a(59),w=a(408),I=a(8),P=["APP_USAGE_EVENT","KEY_LOG","NOTIFICATION","MESSAGE","CALL_LOG","MEDIA"],A=[{title:"APP_USAGE_EVENT",key:"APP_USAGE_EVENT",selectable:!1,children:[{title:"name",key:"app-name"},{title:"packageName",key:"app-packageName"},{title:"type",key:"app-type"}]},{title:"KEY_LOG",key:"KEY_LOG",selectable:!1,children:[{title:"name",key:"key-name"},{title:"packageName",key:"key-packageName"},{title:"currentKey",key:"key-currentKey"},{title:"timeTaken",key:"key-timeTaken"}]},{title:"NOTIFICATION",key:"NOTIFICATION",selectable:!1,children:[{title:"name",key:"noti-name"},{title:"packageName",key:"noti-packageName"},{title:"isPosted",key:"noti-isPosted"}]},{title:"MESSAGE",key:"MESSAGE",selectable:!1,children:[{title:"messageBox",key:"msg-messageBox"}]},{title:"CALL_LOG",key:"CALL_LOG",selectable:!1,children:[{title:"type",key:"call-type"},{title:"presentation",key:"call-presentation"}]},{title:"MEDIA",key:"MEDIA",selectable:!1}];var _=function(e){var t=e.originalLogColumns,a=e.setShowColumnIndex,l=e.setShowRowIndex,c=e.setCol,r=e.setDatumTypes,i=e.logData,u=Object(n.useCallback)((function(e,n){var c=[].concat(Object(E.a)(e),Object(E.a)(n.halfCheckedKeys)),u=["timestamp","_id","datumType"].concat(Object(E.a)(h.a.uniq(c.filter((function(e){return e.includes("-")})).map((function(e){return e.split("-")[1]})))));l(i.map((function(e){return c.includes(e.datumType)}))),a(t.map((function(e){return u.includes(e)}))),r(c.filter((function(e){return P.includes(e)})))}),[i,t,r,a,l]),s=Object(n.useCallback)((function(e){0===e.length?c(""):c(e[0].split("-")[1])}),[c]);return Object(I.jsx)("div",{className:"h-52 overflow-auto",children:Object(I.jsx)(w.a,{checkable:!0,treeData:A,onCheck:u,onSelect:s,defaultCheckedKeys:P})})},D=a(223),L=(a(320),h.a.range(1,7).reduce((function(e,t){return[].concat(Object(E.a)(e),Object(E.a)(function(e){return[[{value:"Trial ".concat(e),className:"font-bold text-red-500"},{value:null,readOnly:!0},{value:null,readOnly:!0},{value:null,readOnly:!0}],[{value:"Trial ".concat(e,"-1 (\ubb38\uc790)"),className:"bg-gray-100 text-black",readOnly:!0},{value:"Timestamp",className:"bg-gray-100 text-black",readOnly:!0},{value:"alphabet",className:"bg-gray-100 text-black",readOnly:!0},{value:"Timetaken",className:"bg-gray-100 text-black",readOnly:!0}],[{value:"Place",readOnly:!0},{value:null,className:"bg-blue-100"},{value:null,className:"bg-blue-100"},{value:null,className:"bg-blue-100"}],[{value:"Time",readOnly:!0},{value:null,className:"bg-blue-100"},{value:null,className:"bg-blue-100"},{value:null,className:"bg-blue-100"}],[{value:"Date",readOnly:!0},{value:null,className:"bg-blue-100"},{value:null,className:"bg-blue-100"},{value:null,className:"bg-blue-100"}],[{value:"Time Interval ('o', 'n')",readOnly:!0},{value:null,readOnly:!0},{value:null,readOnly:!0},{value:null,className:"bg-blue-100"}],[{value:"Trial ".concat(e,"-2 (Camera)"),className:"bg-gray-100 text-black",readOnly:!0},{value:"# Transition (Camera)",className:"bg-gray-100 text-black",readOnly:!0},{value:null,className:"bg-gray-100 text-black",readOnly:!0},{value:null,className:"bg-gray-100 text-black",readOnly:!0}],[{value:"# of app transition",readOnly:!0},{value:null,className:"bg-blue-100"},{value:null,readOnly:!0},{value:null,readOnly:!0}],[{value:"Trial ".concat(e,"-3 (Google Maps)"),className:"bg-gray-100 text-black",readOnly:!0},{value:"DatumType",className:"bg-gray-100 text-black",readOnly:!0},{value:"Event",className:"bg-gray-100 text-black",readOnly:!0},{value:"timestamp",className:"bg-gray-100 text-black",readOnly:!0}],[{value:"Noti to search place",readOnly:!0},{value:"NOTIFICATION",readOnly:!0},{value:"isPosted: True",readOnly:!0},{value:null,className:"bg-blue-100"}],[{value:"Share route with message",readOnly:!0},{value:"APP_USAGE_EVENT",readOnly:!0},{value:"ACTIVITY_RESUMED",readOnly:!0},{value:null,className:"bg-blue-100"}],[{value:"Go to Next Video",className:"font-bold text-black"},{value:null,readOnly:!0},{value:null,readOnly:!0},{value:null,readOnly:!0}],[{value:"Noti to search place",readOnly:!0},{value:"NOTIFICATION",readOnly:!0},{value:"isPosted: False",readOnly:!0},{value:null,className:"bg-blue-100"}],[{value:"Share route with message",readOnly:!0},{value:"APP_USAGE_EVENT",readOnly:!0},{value:"ACTIVITY_STOPPED",readOnly:!0},{value:null,className:"bg-blue-100"}],[{value:"Trial ".concat(e,"-4 (Woori bank)"),className:"bg-gray-100 text-black",readOnly:!0},{value:"DatumType",className:"bg-gray-100 text-black",readOnly:!0},{value:"Event",className:"bg-gray-100 text-black",readOnly:!0},{value:"timestamp",className:"bg-gray-100 text-black",readOnly:!0}],[{value:"Start using banking app",readOnly:!0},{value:"APP_USAGE_EVENT",readOnly:!0},{value:"ACTIVITY_RESUMED",readOnly:!0},{value:null,className:"bg-blue-100"}],[{value:"End using banking app",readOnly:!0},{value:"APP_USAGE_EVENT",readOnly:!0},{value:"ACTIVITY_STOPPED",readOnly:!0},{value:null,className:"bg-blue-100"}]]}(t)))}),[]));var G,M,R,V=function(e){e.datumType,e.timestamp;var t=Object(n.useState)(L),a=Object(i.a)(t,2),l=a[0];return a[1],Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"h-60 overflow-auto",children:Object(I.jsx)(D.a,{data:l,hideRowIndicators:!0,hideColumnIndicators:!0})})})};d.a.extend(m.a);var F=T.a.div(G||(G=Object(u.a)(["\n  width: 100%;\n  height: 70%;\n  margin: 1rem;\n\n  .cell {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]))),B=T.a.div(M||(M=Object(u.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  border-right: 1px solid rgba(0, 0, 0, 0.06);\n  padding-left: 0.25rem;\n  line-height: 30px;\n  ","\n  ","\n"])),(function(e){return e.passed&&"\n    background-color: #bdbdbd;\n  "}),(function(e){return e.selected&&"\n    background-color: #000000;\n    color: white;\n  "})),U=T.a.div(R||(R=Object(u.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  border-right: 1px solid rgba(0, 0, 0, 0.06);\n  padding-left: 0.25rem;\n  background-color: #fafafa;\n  line-height: 30px;\n"]))),K=function(e){var t=e.fileName,a=e.sec,l=e.sync,c=e.start,r=(e.setSync,e.setSelectedTimestamp),u=e.selectedTimestamp,o=e.playerRef,b=e.linked,m=Object(n.useState)(""),v=Object(i.a)(m,2),O=v[0],f=v[1],j=N(t),p=j.logData,y=j.logColumns,g=Object(n.useState)(),x=Object(i.a)(g,2),k=x[0],T=x[1],E=Object(n.useState)([]),w=Object(i.a)(E,2),A=w[0],D=w[1],L=Object(n.useState)([]),G=Object(i.a)(L,2),M=G[0],R=G[1];Object(n.useEffect)((function(){var e=new Array(y.length).fill(!0);D(e),R(p.map((function(e){return P.includes(e.datumType)})))}),[p,y.length]),Object(n.useEffect)((function(){var e=y.filter((function(e,t){return A[t]}));T(p.map((function(t){return h.a.pick(t,e)})).filter((function(e,t){return M[t]})).sort((function(e,t){return parseInt(e.timestamp)-parseInt(t.timestamp)})))}),[p,y,A,M]);var K=Object(n.useState)(""),Y=Object(i.a)(K,2),z=Y[0],J=Y[1],W=Object(n.useCallback)((function(e){J(null===e||void 0===e?void 0:e._id);var t=parseInt(null===e||void 0===e?void 0:e.timestamp);r(parseInt(null===e||void 0===e?void 0:e.timestamp)),f(null===e||void 0===e?void 0:e.datumType),o&&o.current.seekTo((c+t-l)/1e3,"seconds")}),[o,r,c,l]),q=Object(n.useState)(""),H=Object(i.a)(q,2),Q=H[0],X=H[1],Z=Object(n.useState)(P),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(i.a)(ae,2),le=ne[0],ce=ne[1];Object(n.useEffect)((function(){var e,t,a=p.filter((function(e){return ee.includes(e.datumType)})),n=y.map((function(e){return{col:e,count:Object.entries(h.a.countBy(null===a||void 0===a?void 0:a.map((function(t){return t[e]}))))}})),l=null===(e=y.map((function(e){return{col:e,count:Object.entries(h.a.countBy(null===k||void 0===k?void 0:k.map((function(t){return t[e]}))))}})).find((function(e){return e.col===Q})))||void 0===e?void 0:e.count,c=null===(t=n.find((function(e){return e.col===Q})))||void 0===t?void 0:t.count;ce(null===c||void 0===c?void 0:c.map((function(e){if(null===l||void 0===l?void 0:l.map((function(e){return e[0]})).includes(e[0])){var t=l.find((function(t){return t[0]===e[0]}));if(void 0===t)throw new Error("no lookup");var a=t[1];return a===e[1]?{value:e[0],count:a,checked:!0,total:e[1]}:{value:e[0],count:a,checked:!1,total:e[1]}}return{value:e[0],count:0,checked:!1,total:e[1]}})))}),[Q,ee,p,k,y]);var re=function(e){var t=e.columnIndex,n=e.key,r=e.rowIndex,i=e.style;if(k){var u=y.filter((function(e,t){return A[t]}))[t],s=k[r];if(0===r)return Object(I.jsx)(U,{style:i,className:"cell",children:0===t?"Datetime":u},n);var o=0!==t?s&&s[u]&&s[u].toString():s&&d()(parseInt(s[u])).format("MM/DD hh:mm:ss.SSS");return Object(I.jsx)(B,{style:i,className:"cell",passed:!!b&&a+l-c>=parseInt(null===s||void 0===s?void 0:s.timestamp),selected:(null===s||void 0===s?void 0:s._id)===z,onClick:function(){return W(s)},children:o},n)}},ie=Object(n.useState)(0),ue=Object(i.a)(ie,2),se=ue[0],oe=ue[1];Object(n.useEffect)((function(){console.log(se)}),[se]),Object(n.useEffect)((function(){var e=k?k.findIndex((function(e){return a+l-c<=parseInt(null===e||void 0===e?void 0:e.timestamp)})):0,t=null===k||void 0===k?void 0:k.find((function(e){return a+l-c<=parseInt(null===e||void 0===e?void 0:e.timestamp)}));oe(e),t&&t._id&&J(t._id)}),[k,o,a,c,l]);var de=Object(n.useCallback)((function(e,t){R(t?function(t){return t.map((function(t,a){return!0===t&&ee.includes(p[a].datumType)?p[a][Q]!==e:t}))}:function(t){return t.map((function(t,a){return!1===t&&ee.includes(p[a].datumType)?p[a][Q]===e:t}))})}),[Q,ee,p]),be=Object(n.useCallback)((function(e){!e.target.checked||e.target.indeterminate?R((function(e){return e.map((function(){return!1}))})):R((function(e){return e.map((function(e,t){return!!ee.includes(p[t].datumType)||e}))}))}),[ee,p]),me=Object(n.useState)([]),ve=Object(i.a)(me,2),Oe=ve[0],fe=ve[1];Object(n.useEffect)((function(){fe(le)}),[le,y]);var je=Object(n.useCallback)((function(e){fe(null===le||void 0===le?void 0:le.filter((function(t){return t.value.toLowerCase().includes(e.target.value.toLowerCase())})))}),[le]),pe=function(e){var t,a=y.map((function(e,t){return{name:e,index:t}})).filter((function(e){return A[e.index]}));return null===a||void 0===a||null===(t=a.find((function(t){return t.name===e})))||void 0===t?void 0:t.index},ye=function(e){var t=e.index;return 0===t||t===pe("datumType")?150:t===pe("type")?250:t===pe("name")?100:t===pe("packageName")?300:t===pe("_id")?0:70};return Object(I.jsxs)("div",{className:"w-full h-screen",children:[Object(I.jsx)(F,{children:Object(I.jsx)(s.a,{children:function(e){var t=e.height,a=e.width;return Object(I.jsx)(s.b,{height:t,rowHeight:30,width:a,fixedColumnCount:1,fixedRowCount:1,cellRenderer:re,styleTopLeftGrid:{borderRight:"1px solid rgba(0, 0, 0, 0.5)"},styleBottomLeftGrid:{borderRight:"1px solid rgba(0, 0, 0, 0.5)"},rowCount:M.filter(Boolean).length,columnCount:A.filter(Boolean).length,columnWidth:ye,scrollToRow:se,scrollToAlignment:"center"})}})}),Object(I.jsxs)("div",{className:"flex",children:[Object(I.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(I.jsx)("div",{className:"text-lg font-bold",children:"Show Columns"}),Object(I.jsx)(_,{originalLogColumns:y,setShowColumnIndex:D,setCol:X,logData:p,setDatumTypes:te,setShowRowIndex:R})]}),(""!==Q||0===(null===Oe||void 0===Oe?void 0:Oe.length))&&Object(I.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(I.jsxs)("div",{className:"text-lg font-bold",children:["Column Filter - ",Q]}),Object(I.jsx)(S.a,{size:"small",onChange:je}),Object(I.jsx)("div",{className:"p-1",children:Object(I.jsx)(C.a,{checked:null===le||void 0===le?void 0:le.map((function(e){return e.checked})).every((function(e){return!0===e})),indeterminate:!(null===le||void 0===le?void 0:le.map((function(e){return e.checked})).every((function(e){return!0===e})))&&(null===le||void 0===le?void 0:le.map((function(e){return e.checked})).some((function(e){return!0===e}))),onChange:be,children:"Select All"})}),Object(I.jsx)("div",{className:"h-40 overflow-auto",children:null===Oe||void 0===Oe?void 0:Oe.sort((function(e,t){return t.total-e.total})).map((function(e,t){return Object(I.jsx)("div",{className:"p-1",children:Object(I.jsxs)(C.a,{checked:e.checked,indeterminate:0!==e.count&&!e.checked,onClick:function(){return de(e.value,e.checked)},children:[e.value," (",e.count,"/",e.total,")"]})},t)}))})]}),Object(I.jsx)("div",{className:"ml-auto",children:Object(I.jsx)(V,{timestamp:u.toString(),datumType:O})})]})]})},Y=(a(321),a(216)),z=a.n(Y);var J=function(e){var t=e.url,a=e.setSec,n=e.setPlayedSec,l=e.playerRef;return Object(I.jsx)("div",{className:"flex flex-col h-full w-full pl-4 pt-2 pb-14 justify-center items-center",children:Object(I.jsx)(z.a,{url:t,controls:!0,width:"100%",height:"100%",onProgress:function(e){a(Math.floor(1e3*e.playedSeconds)),n(Math.floor(1e3*e.playedSeconds))},progressInterval:10,ref:l})})},W=a(413),q=a(410);var H=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),r=Object(i.a)(c,2),u=r[0],s=r[1],o=Object(n.useState)(0),d=Object(i.a)(o,2),b=d[0],m=d[1],v=Object(n.useState)(0),O=Object(i.a)(v,2),f=O[0],j=O[1],p=Object(n.useState)(0),y=Object(i.a)(p,2),h=y[0],g=y[1],x=Object(n.useState)(0),k=Object(i.a)(x,2),N=k[0],T=k[1],S=Object(n.useState)(0),C=Object(i.a)(S,2),E=C[0],w=C[1],P=Object(n.useRef)(),A=(Object(n.useCallback)((function(){m(E),g(N)}),[N,E,g,m]),Object(n.useCallback)((function(e){s(e),a&&("1"===e?(g(63313),m(1629888667514)):"2"===e?(g(49722),m(1629889358549)):"3"===e?(g(55914),m(1629890037158)):"4"===e?(g(55547),m(1629890830082)):"5"===e?(g(84034),m(1629891653325)):"6"===e?(g(46918),m(1629892242627)):"7"===e?(g(49363),m(1629895489933)):"8"===e?(g(47416),m(1629896452951)):"9"===e?(g(51487),m(1629897703366)):"10"===e?(g(51047),m(1629903331680)):"11"===e?(g(53512),m(1629904437562)):"12"===e&&(g(51414),m(1629905062038)))}),[a]));return Object(I.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[Object(I.jsx)("div",{className:"w-3/4 h-screen",children:Object(I.jsx)(K,{fileName:"P023.csv",sec:a?f:0,sync:b,setSelectedTimestamp:w,playerRef:a&&P,setSync:m,selectedTimestamp:E,start:h,linked:a})}),Object(I.jsxs)("div",{className:"flex flex-col w-1/4 h-screen items-center",children:[Object(I.jsxs)("div",{className:"flex justify-center h-8 items-center pt-2",children:[Object(I.jsx)("div",{className:"mr-2",children:"Link:"}),Object(I.jsx)(W.a,{checked:a,onChange:function(e){return l(e)}}),Object(I.jsx)("div",{className:"mx-2"}),Object(I.jsxs)(q.a,{defaultValue:"10",size:"small",onChange:A,value:u,className:"w-48",children:[Object(I.jsx)(q.a.Option,{value:"10",children:"Practice-Trial 1-Prev"}),Object(I.jsx)(q.a.Option,{value:"4",children:"Practice-Trial 1-Next"}),Object(I.jsx)(q.a.Option,{value:"5",children:"Practice-Trial 2-Prev"}),Object(I.jsx)(q.a.Option,{value:"11",children:"Practice-Trial 2-Next"}),Object(I.jsx)(q.a.Option,{value:"12",children:"Session 1-Trial 3-Prev"}),Object(I.jsx)(q.a.Option,{value:"6",children:"Session 1-Trial 3-Next"}),Object(I.jsx)(q.a.Option,{value:"3",children:"Session 1-Trial 4-Prev"}),Object(I.jsx)(q.a.Option,{value:"9",children:"Session 1-Trial 4-Next"}),Object(I.jsx)(q.a.Option,{value:"7",children:"Session 2-Trial 5-Prev"}),Object(I.jsx)(q.a.Option,{value:"1",children:"Session 2-Trial 5-Next"}),Object(I.jsx)(q.a.Option,{value:"2",children:"Session 2-Trial 6-Prev"}),Object(I.jsx)(q.a.Option,{value:"8",children:"Session 2-Trial 6-Next"})]})]}),Object(I.jsx)(J,{url:"".concat("","videos/").concat(u,".webm"),setSec:j,setSync:m,setStart:g,setPlayedSec:T,selectedTimestamp:E,playerRef:P,playedSec:N})]})]})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,414)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),l(e),c(e),r(e)}))};a(405);r.a.render(Object(I.jsx)(l.a.StrictMode,{children:Object(I.jsx)(H,{})}),document.getElementById("root")),Q()}},[[406,1,2]]]);
//# sourceMappingURL=main.5e499190.chunk.js.map