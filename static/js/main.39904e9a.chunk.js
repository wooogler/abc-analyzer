(this["webpackJsonpabc-analyzer"]=this["webpackJsonpabc-analyzer"]||[]).push([[0],{238:function(e,t){},240:function(e,t){},275:function(e,t){},399:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(27),u=n.n(c),r=n(20),i=n(110),o=n(140),s=n(134),d=n.n(s),f=n(188),v=n.n(f),m=n(135),j=n.n(m),b=n(67),p=n(189),O=n(111),h=n(54),x=n.n(h),y=n(190);function g(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n]&&null!==e[n]){var a=g(e[n]);for(var l in a)a.hasOwnProperty(l)&&(t[n+"_"+l]=a[l])}else t[n]=String(e[n]);return t}var k=function(e){return e.map((function(e,t){var n,a=e[0],l=e[1],c=e[5],u=null===(n=e[8])||void 0===n?void 0:n.replaceAll('""','"').replaceAll(': ", ',': "", ');try{return Object(O.a)({timestamp:c,_id:a,datumType:l},g(JSON.parse(u)))}catch(r){return{timestamp:c,_id:a,datumType:l}}}))};var S=function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),l=n[0],c=n[1],u=Object(a.useMemo)((function(){return l.reduce((function(e,t){var n=Object.keys(t);return x.a.union(e,n)}),[])}),[l]);return Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(y.a)("".concat("https://wooogler.github.io/abc-analyzer","/logs/").concat(e),{worker:!0,complete:function(e){var t=["timestamp","datumType","type","name","packageName","currentKey","timeTaken","isPosted","messageBox","presentation","_id"],n=e.data,a=k(n).map((function(e){return x.a.pick(e,t)})),l=t.reduce((function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(b.a)({},t,""))}),{}),u=a.map((function(e){return Object.assign({},l,e)}));c(u)},download:!0});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),{logData:l,logColumns:u}},w=n(114),C=n(406),N=n(403),T=n(407),E=n(77),I=n(402),A=n(6),L=["APP_USAGE_EVENT","KEY_LOG","NOTIFICATION","MESSAGE","CALL_LOG","MEDIA"],_=[{title:"APP_USAGE_EVENT",key:"APP_USAGE_EVENT",selectable:!1,children:[{title:"name",key:"app-name"},{title:"packageName",key:"app-packageName"},{title:"type",key:"app-type"}]},{title:"KEY_LOG",key:"KEY_LOG",selectable:!1,children:[{title:"name",key:"key-name"},{title:"packageName",key:"key-packageName"},{title:"currentKey",key:"key-currentKey"},{title:"timeTaken",key:"key-timeTaken"}]},{title:"NOTIFICATION",key:"NOTIFICATION",selectable:!1,children:[{title:"name",key:"noti-name"},{title:"packageName",key:"noti-packageName"},{title:"isPosted",key:"noti-isPosted"}]},{title:"MESSAGE",key:"MESSAGE",selectable:!1,children:[{title:"messageBox",key:"msg-messageBox"}]},{title:"CALL_LOG",key:"CALL_LOG",selectable:!1,children:[{title:"type",key:"call-type"},{title:"presentation",key:"call-presentation"}]},{title:"MEDIA",key:"MEDIA",selectable:!1}];var B=function(e){var t=e.originalLogColumns,n=e.setShowColumnIndex,l=e.setShowRowIndex,c=e.setCol,u=e.setDatumTypes,r=e.logData,i=Object(a.useCallback)((function(e,a){var c=[].concat(Object(E.a)(e),Object(E.a)(a.halfCheckedKeys)),i=["timestamp","_id","datumType"].concat(Object(E.a)(x.a.uniq(c.filter((function(e){return e.includes("-")})).map((function(e){return e.split("-")[1]})))));l(r.map((function(e){return c.includes(e.datumType)}))),n(t.map((function(e){return i.includes(e)}))),u(c.filter((function(e){return L.includes(e)})))}),[r,t,u,n,l]),o=Object(a.useCallback)((function(e){0===e.length?c(""):c(e[0].split("-")[1])}),[c]);return Object(A.jsx)("div",{className:"h-60 overflow-auto",children:Object(A.jsx)(I.a,{checkable:!0,treeData:_,onCheck:i,onSelect:o,defaultCheckedKeys:L})})},P=n(219),D=n(216);var G,F,R,M=function(e){var t=e.datumType,n=e.timestamp,l=Object(a.useState)(0),c=Object(r.a)(l,2),u=c[0],i=c[1],o=Object(a.useState)([[{value:"\uba54\uc138\uc9c0 \uc571( \ubb38\uc790 \ub3c4\ucc29)"},{value:null},{value:null},{value:null}],[{value:"\uc54c\ub78c: \ubb38\uc790 \ub3c4\ucc29"},{value:null},{value:null},{value:null}],[{value:"\uc571 \uc0ac\uc6a9: \ubb38\uc790 \uc571 foreground"},{value:null},{value:null},{value:null}],[{value:"\ucf5c: \uc804\ud654 \uc634"},{value:null},{value:null},{value:null}],[{value:"\uc54c\ub78c: \uc804\ud654 \uc634"},{value:null},{value:null},{value:null}],[{value:"\uc54c\ub78c: \uc804\ud654 \uac70\uc808\ud568"},{value:null},{value:null},{value:null}],[{value:"\ud0a4\ub85c\uadf8: \ub9c8\uc9c0\ub9c9 \ud0c0\uc774\ud551"},{value:null},{value:null},{value:null}],[{value:"\ubb38\uc790 \ubcf4\ub0b8 \uc2dc\uac01"},{value:null},{value:null},{value:null}],[{value:"\uc571 \uc0ac\uc6a9: \ubb38\uc790 \uc571 background"},{value:null},{value:null},{value:null}]]),s=Object(r.a)(o,2),d=s[0],f=s[1];return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)("div",{className:"text-lg font-bold",children:"Task Sheet"}),Object(A.jsx)(P.a,{className:"ml-auto",onClick:function(){f((function(e){return null===e||void 0===e?void 0:e.map((function(e,a){return a===u?[e[0],{value:t},e[2],{value:n}]:e}))}))},size:"small",children:"Copy data to sheet"})]}),Object(A.jsx)("div",{className:"h-60 overflow-auto",children:Object(A.jsx)(D.a,{data:d,onSelect:function(e){e!==[]&&e[0]&&i(e[0].row)},hideRowIndicators:!0,columnLabels:["Task","DatumType","Event","Timestamp"]})})]})};d.a.extend(v.a);var K=w.a.div(G||(G=Object(i.a)(["\n  width: 100%;\n  height: 60%;\n  margin: 1rem;\n\n  .cell {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]))),z=w.a.div(F||(F=Object(i.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  border-right: 1px solid rgba(0, 0, 0, 0.06);\n  padding-left: 0.25rem;\n  line-height: 30px;\n  ","\n  ","\n"])),(function(e){return e.passed&&"\n    background-color: #E6F7FF;\n  "}),(function(e){return e.selected&&"\n    background-color: #1890FF;\n    color: white;\n  "})),V=w.a.div(R||(R=Object(i.a)(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  border-right: 1px solid rgba(0, 0, 0, 0.06);\n  padding-left: 0.25rem;\n  background-color: #fafafa;\n  line-height: 30px;\n"]))),J=function(e){var t=e.fileName,n=e.sec,l=e.sync,c=e.start,u=(e.setSync,e.setSelectedTimestamp),i=e.selectedTimestamp,s=e.playerRef,f=Object(a.useState)(""),v=Object(r.a)(f,2),m=v[0],j=v[1],b=S(t),p=b.logData,O=b.logColumns,h=Object(a.useState)(),y=Object(r.a)(h,2),g=y[0],k=y[1],w=Object(a.useState)([]),E=Object(r.a)(w,2),I=E[0],_=E[1],P=Object(a.useState)([]),D=Object(r.a)(P,2),G=D[0],F=D[1];Object(a.useEffect)((function(){var e=new Array(O.length).fill(!0);_(e),F(p.map((function(e){return L.includes(e.datumType)})))}),[p,O.length]),Object(a.useEffect)((function(){var e=O.filter((function(e,t){return I[t]}));k(p.map((function(t){return x.a.pick(t,e)})).filter((function(e,t){return G[t]})).sort((function(e,t){return parseInt(e.timestamp)-parseInt(t.timestamp)})))}),[p,O,I,G]);var R=Object(a.useState)(""),J=Object(r.a)(R,2),U=J[0],Y=J[1],q=Object(a.useCallback)((function(e){Y(null===e||void 0===e?void 0:e._id);var t=parseInt(null===e||void 0===e?void 0:e.timestamp);u(parseInt(null===e||void 0===e?void 0:e.timestamp)),j(null===e||void 0===e?void 0:e.datumType),s&&s.current.seekTo((c+t-l)/1e3,"seconds")}),[s,u,c,l]),H=Object(a.useState)(""),W=Object(r.a)(H,2),Q=W[0],X=W[1],Z=Object(a.useState)(L),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)([]),ae=Object(r.a)(ne,2),le=ae[0],ce=ae[1];Object(a.useEffect)((function(){var e,t,n=p.filter((function(e){return ee.includes(e.datumType)})),a=O.map((function(e){return{col:e,count:Object.entries(x.a.countBy(null===n||void 0===n?void 0:n.map((function(t){return t[e]}))))}})),l=null===(e=O.map((function(e){return{col:e,count:Object.entries(x.a.countBy(null===g||void 0===g?void 0:g.map((function(t){return t[e]}))))}})).find((function(e){return e.col===Q})))||void 0===e?void 0:e.count,c=null===(t=a.find((function(e){return e.col===Q})))||void 0===t?void 0:t.count;ce(null===c||void 0===c?void 0:c.map((function(e){if(null===l||void 0===l?void 0:l.map((function(e){return e[0]})).includes(e[0])){var t=l.find((function(t){return t[0]===e[0]}));if(void 0===t)throw new Error("no lookup");var n=t[1];return n===e[1]?{value:e[0],count:n,checked:!0,total:e[1]}:{value:e[0],count:n,checked:!1,total:e[1]}}return{value:e[0],count:0,checked:!1,total:e[1]}})))}),[Q,ee,p,g,O]);var ue=function(e){var t=e.columnIndex,a=e.key,u=e.rowIndex,r=e.style;if(g){var i=O.filter((function(e,t){return I[t]}))[t],o=g[u];if(0===u)return Object(A.jsx)(V,{style:r,className:"cell",children:0===t?"Datetime":i},a);var s=0!==t?o&&o[i]&&o[i].toString():o&&d()(parseInt(o[i])).format("MM/DD hh:mm:ss.SSS");return Object(A.jsx)(z,{style:r,className:"cell",passed:n+l-c>=parseInt(null===o||void 0===o?void 0:o.timestamp),selected:(null===o||void 0===o?void 0:o._id)===U,onClick:function(){return q(o)},children:Object(A.jsx)(C.a,{title:s,children:s})},a)}},re=Object(a.useState)(0),ie=Object(r.a)(re,2),oe=ie[0],se=ie[1];Object(a.useEffect)((function(){var e=g?g.findIndex((function(e){return n+l-c<=parseInt(null===e||void 0===e?void 0:e.timestamp)})):0;se(e+5)}),[g,n,c,l]);var de=Object(a.useCallback)((function(e,t){F(t?function(t){return t.map((function(t,n){return!0===t&&ee.includes(p[n].datumType)?p[n][Q]!==e:t}))}:function(t){return t.map((function(t,n){return!1===t&&ee.includes(p[n].datumType)?p[n][Q]===e:t}))})}),[Q,ee,p]),fe=Object(a.useCallback)((function(e){!e.target.checked||e.target.indeterminate?F((function(e){return e.map((function(){return!1}))})):F((function(e){return e.map((function(e,t){return!!ee.includes(p[t].datumType)||e}))}))}),[ee,p]),ve=Object(a.useState)([]),me=Object(r.a)(ve,2),je=me[0],be=me[1];Object(a.useEffect)((function(){be(le)}),[le,O]);var pe=Object(a.useCallback)((function(e){be(null===le||void 0===le?void 0:le.filter((function(t){return t.value.toLowerCase().includes(e.target.value.toLowerCase())})))}),[le]),Oe=Object(a.useCallback)((function(e){var t,n=O.map((function(e,t){return{name:e,index:t}})).filter((function(e){return I[e.index]}));return null===n||void 0===n||null===(t=n.find((function(t){return t.name===e})))||void 0===t?void 0:t.index}),[O,I]),he=Object(a.useCallback)((function(e){var t=e.index;return 0===t||t===Oe("datumType")?150:t===Oe("type")?250:t===Oe("name")?100:t===Oe("packageName")?300:t===Oe("_id")?0:70}),[Oe]);return Object(A.jsxs)("div",{className:"w-full h-screen",children:[Object(A.jsx)(K,{children:Object(A.jsx)(o.a,{children:function(e){var t=e.height,n=e.width;return Object(A.jsx)(o.b,{height:t,rowHeight:30,width:n,fixedColumnCount:1,fixedRowCount:1,cellRenderer:ue,styleTopLeftGrid:{borderRight:"1px solid rgba(0, 0, 0, 0.5)"},styleBottomLeftGrid:{borderRight:"1px solid rgba(0, 0, 0, 0.5)"},rowCount:G.filter(Boolean).length,columnCount:I.filter(Boolean).length,columnWidth:he,scrollToRow:oe})}})}),Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(A.jsx)("div",{className:"text-lg font-bold",children:"Show Columns"}),Object(A.jsx)(B,{originalLogColumns:O,setShowColumnIndex:_,setCol:X,logData:p,setDatumTypes:te,setShowRowIndex:F})]}),(""!==Q||0===(null===je||void 0===je?void 0:je.length))&&Object(A.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(A.jsxs)("div",{className:"text-lg font-bold",children:["Column Filter - ",Q]}),Object(A.jsx)(N.a,{size:"small",onChange:pe}),Object(A.jsx)("div",{className:"p-1",children:Object(A.jsx)(T.a,{checked:null===le||void 0===le?void 0:le.map((function(e){return e.checked})).every((function(e){return!0===e})),indeterminate:!(null===le||void 0===le?void 0:le.map((function(e){return e.checked})).every((function(e){return!0===e})))&&(null===le||void 0===le?void 0:le.map((function(e){return e.checked})).some((function(e){return!0===e}))),onChange:fe,children:"Select All"})}),Object(A.jsx)("div",{className:"h-60 overflow-auto",children:null===je||void 0===je?void 0:je.sort((function(e,t){return t.total-e.total})).map((function(e,t){return Object(A.jsx)("div",{className:"p-1",children:Object(A.jsxs)(T.a,{checked:e.checked,indeterminate:0!==e.count&&!e.checked,onClick:function(){return de(e.value,e.checked)},children:[e.value," (",e.count,"/",e.total,")"]})},t)}))})]}),Object(A.jsx)("div",{className:"ml-auto",children:Object(A.jsx)(M,{timestamp:i.toString(),datumType:m})})]})]})},U=(n(380),n(214)),Y=n.n(U);var q=function(e){var t=e.url,n=e.setSec,a=e.setPlayedSec,l=e.playerRef;return Object(A.jsx)("div",{className:"flex flex-col h-full w-full pl-4 pt-2 pb-14 justify-center items-center",children:Object(A.jsx)(Y.a,{url:t,controls:!0,width:"100%",height:"100%",onProgress:function(e){n(Math.floor(1e3*e.playedSeconds)),a(Math.floor(1e3*e.playedSeconds))},progressInterval:10,ref:l})})},H=n(408),W=n(405);var Q=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),u=Object(r.a)(c,2),i=u[0],o=u[1],s=Object(a.useState)(1629722777027),d=Object(r.a)(s,2),f=d[0],v=d[1],m=Object(a.useState)(0),j=Object(r.a)(m,2),b=j[0],p=j[1],O=Object(a.useState)(29257),h=Object(r.a)(O,2),x=h[0],y=h[1],g=Object(a.useState)(0),k=Object(r.a)(g,2),S=k[0],w=k[1],C=Object(a.useState)(0),N=Object(r.a)(C,2),T=N[0],E=N[1],I=Object(a.useRef)(),L=Object(a.useCallback)((function(e){o(e.target.value),"7"===e.target.value?(y(29257),v(1629722777027)):"8"===e.target.value?(y(27275),v(1629723368224)):"9"===e.target.value?(y(28561),v(1629724008156)):"10"===e.target.value?(y(28977),v(1629729295883)):"11"===e.target.value?(y(26999),v(1629729867290)):"12"===e.target.value&&(y(37468),v(1629730415581))}),[]);return Object(A.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[Object(A.jsx)("div",{className:"w-3/4 h-screen",children:Object(A.jsx)(J,{fileName:"raw.csv",sec:n?b:0,sync:f,setSelectedTimestamp:E,playerRef:n&&I,setSync:v,selectedTimestamp:T,start:x})}),Object(A.jsxs)("div",{className:"flex flex-col w-1/4 h-screen items-center",children:[Object(A.jsxs)("div",{className:"flex justify-center h-8 items-center pt-2",children:[Object(A.jsx)("div",{className:"mr-2",children:"Link:"}),Object(A.jsx)(H.a,{checked:n,onChange:function(e){return l(e)}}),Object(A.jsx)("div",{className:"mx-2"}),Object(A.jsxs)(W.a.Group,{defaultValue:"7",size:"small",buttonStyle:"solid",onChange:L,value:i,children:[Object(A.jsx)(W.a.Button,{value:"7",children:"7"}),Object(A.jsx)(W.a.Button,{value:"8",children:"8"}),Object(A.jsx)(W.a.Button,{value:"9",children:"9"}),Object(A.jsx)(W.a.Button,{value:"10",children:"10"}),Object(A.jsx)(W.a.Button,{value:"11",children:"11"}),Object(A.jsx)(W.a.Button,{value:"12",children:"12"})]})]}),Object(A.jsx)(q,{url:"".concat("","videos/").concat(i,".webm"),setSec:p,setSync:v,setStart:y,setPlayedSec:w,selectedTimestamp:T,playerRef:I,playedSec:S})]})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,409)).then((function(t){var n=t.getCLS,a=t.getFID,l=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),a(e),l(e),c(e),u(e)}))};n(399);u.a.render(Object(A.jsx)(l.a.StrictMode,{children:Object(A.jsx)(Q,{})}),document.getElementById("root")),X()}},[[400,1,2]]]);
//# sourceMappingURL=main.39904e9a.chunk.js.map